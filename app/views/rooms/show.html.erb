<% if flash.notice %>
    <p class="notice"><%= flash.notice %></p>
<% end %>

<div class="container room-show">
    <div class="row">
        <div class="col-md-8">
            <%= image_tag @room.image.variant(resize:'500x350').processed, class:"room-show-image" %>
            <div class="room-show-detile">
                <div class="room-show-detile-icon">
                    <!--見本ではトップページに遷移。必要ないと判断-->
                    <% if @room.user.image.attached? %>
                    <%= image_tag @room.user.image.variant(resize:'200x200').processed, class:"icon-image host-icon" %>
                    <% else %>
                    <img alt="アイコン画像" class="host-icon" src="../../assets/default_icon.jpg">
                    <% end %>
                </div>
                <div class="room-show-profile">
                    <p class="room-show-profile-name"><%= @room.name %></p>
                    <p class="room-show-profile-address"><%= @room.address %></p>
                </div>
            </div>
            <p class="room-show-detile-content"><%= @room.introduction %></p>
        </div>
        <div class="col-md-4">
            <div class="room-show-nav">
                <h5 class="price-icon">
                    <%= @room.price %>
                </h5>
                <div class="room-show-date-select">
                    <%= form_with model: @reservation, local: true, url: reservations_new_path do |f| %>
                    <%= f.label :start_date, '開始日' %>
                    <%= f.date_field :start_date, class: 'form-control mb-4' %>
                    <%= f.label :end_date, '終了日' %>
                    <%= f.date_field :end_date, class: 'form-control mb-4' %>
                    <%= f.label :person_number, '人数' %>
                    <%= f.text_field :person_number, class: 'form-control mb-4' %>
                    <%= f.hidden_field :room_id, value: @room.id %>
                    
                    <%= f.submit "予約する", class:"btn btn-primary form-control" %>
                    <% end %>
            </div>
        </div>
    </div>
</div>
</div>



